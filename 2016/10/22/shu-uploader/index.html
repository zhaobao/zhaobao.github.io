<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Uploader Box · Line</title><meta name="description" content="desc"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://www.zhaobao.site/atom.xml" title="Line"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Uploader Box</h1><div class="post-info">Oct 22, 2016</div><div class="post-content"><p>浏览器默认的上传确实很丑。<br>来来回回也折腾过好几次上传了，本人有点强迫症，要么是觉得UI不够理想，要么是支持类型和功能不全，要么是第三方的插件太重，甚至还有些收费的，也是醉了。<br>在<code>IE6</code>占优比较大的时候，自己写一个上传确实很麻烦，甚至还需要用<code>Flash</code>来做辅助，比较经典的，比如<a href="http://www.uploadify.com/" target="_blank" rel="external"> uploadify </a>; 不过这几年好多了，随着<code>H5</code>的普及和移动互联网的普及，兼容性这个问题反而不是问题了，这是个好事，至少可以把主力放到体验和逻辑上，而不是没有意义的兼容性上。</p>
<a id="more"></a>
<p>之前做过一个图片的上传，效果还不错的，效果类似 <a href="https://alpha.wallhaven.cc/" target="_blank" rel="external">wallheaven</a> 的上传类似，可以支持图片的预览，也可以动态的添加和删除图片，目前公司内部后台使用的是这个，稳定性都还不错，不过也是有问题的：</p>
<ul>
<li>发现在限制了<code>input</code>的<code>accept</code>属性后，点击吊起上传会特别慢，目前还在解决这个问题</li>
<li>因为是图片上传，可以通过<code>FileReader</code>来做预览，但是其他类的文件却无法预览，整体效果不太和谐</li>
</ul>
<p>因此，用了半天的时间，从自己设计<code>Axure</code>原型图，到寻找配色，到前端结构选型，到成品，自己写了一个感觉还不错的上传：</p>
<ul>
<li>支持多种类型文件上传</li>
<li>更和谐的配色和<code>UI</code></li>
<li>依然支持进度以及单文件和多文件和过滤的制定</li>
</ul>
<h4 id="浏览器市场份额"><a href="#浏览器市场份额" class="headerlink" title="浏览器市场份额"></a>浏览器市场份额</h4><p><a href="http://tongji.baidu.com/data/browser" target="_blank" rel="external">百度统计</a>，我就想呵呵了，这里面没有<code>360</code>，这是不科学的。<br><img src="/images/upload/uploader/baidu.png" alt="百度"><br><a href="http://www.netmarketshare.com/" target="_blank" rel="external">NetMarketShare</a> 统计<br><img src="/images/upload/uploader/net.png" alt="net"><br><a href="http://www.w3schools.com/browsers/default.asp" target="_blank" rel="external">W3C</a> 数据<br><img src="/images/upload/uploader/w3c.png" alt="w3c"></p>
<p>从数据中可以看出，<code>IE6</code>，机会都没有了，<code>IE</code>里面也就<code>IE8</code>份额还是不错的，所以现在的一些主流的框架都是支持<code>IE8</code>的，当然，我这个还是没有到<code>IE8</code>的，具体在<code>IE8</code>上的效果自己还没有测试，等测试了补上试试。</p>
<h4 id="图片上传"><a href="#图片上传" class="headerlink" title="图片上传"></a>图片上传</h4><p>以下是演示<code>Demo</code>, 整体效果还不错，不论是嵌在<code>dialog</code>中使用，还是在<code>form</code>里使用，效果都还不错<br><img src="/images/upload/uploader/img-uploader.gif" alt="img uploader"></p>
<p><a href="https://github.com/zhaobao/image-uploader" target="_blank" rel="external">源码地址</a></p>
<h4 id="算是第二版的上传吧"><a href="#算是第二版的上传吧" class="headerlink" title="算是第二版的上传吧"></a>算是第二版的上传吧</h4><ul>
<li><p>Axure 设置<br>真正做出来还是有一点误差的<br><img src="/images/upload/uploader/axure.png" alt="uploader axure"></p>
</li>
<li><p>uplaoder 初始状态，有没有感觉很干净<br><img src="/images/upload/uploader/uploader-empty.png" alt="uploader emtpy"></p>
</li>
<li><p>uploader 完成状态，好看，哈啊哈<br><img src="/images/upload/uploader/uploader-done.png" alt="uploader emtpy"></p>
</li>
<li><p>uploader 动图演示，右上角已经改过了，鼠标放上的时候背景颜色没有这么暗，已经修改了<br><img src="/images/upload/uploader.gif" alt="picture"></p>
</li>
<li><p>uploader 源代码和具体的使用方法，<code>github</code>中有详细的解释<br><a href="https://github.com/zhaobao/uploader-box" target="_blank" rel="external">upload box</a></p>
</li>
</ul>
<div class="tip"><br>    每个做前端的都是好样的，不说各种技术的变革，主要是没有多少积累，工作5年也许和2年差不多，与君共勉。<br></div>


</div></article></div></section><footer><div class="paginator"><a href="/2016/10/19/shu-api/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'blog-zhishoumowen-com';
var disqus_identifier = '2016/10/22/shu-uploader/';
var disqus_title = 'Uploader Box';
var disqus_url = 'http://www.zhaobao.site/2016/10/22/shu-uploader/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blog-zhishoumowen-com.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2016 <a href="http://www.zhaobao.site">zhaobao</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-77508576-1",'auto');ga('send','pageview');</script></body></html>